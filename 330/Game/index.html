<!DOCTYPE>
<html>
    <head>
        <title>HTML Canvas Game</title>
        <style>
            html, body {
                padding: 0px;
                margin: 0px;
                overflow: hidden;
            }
        </style>
        <script src="utils/keys.js"></script>
        <script src='utils/animation.js'></script>
        <script src='scripts/player.js'></script>
        <script>
            function resize(canvas){
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            function loadImage(path){
                var img = new Image();
                img.src = path;
                return img;
            }
            
            window.onload = () => {
                let canvas = document.getElementById('canvas1');
                resize(canvas);
                let context = canvas.getContext('2d');
                
                let player = createPlayer(canvas.width/2, canvas.height/2);

                //TODO: better asset loading
                player.idle.loadImage();
                player.running.loadImage();

                function gameloop(){
                    player.update(context);
                    player.render(context);
                    window.requestAnimationFrame(gameloop);
                }
                gameloop();
            };
            
        </script>
    </head>
    <body>
        <canvas id="canvas1"></canvas>
    </body>
</html>